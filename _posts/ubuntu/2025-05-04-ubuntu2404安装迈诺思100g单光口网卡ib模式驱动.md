---
title: "ubuntu2404安装迈诺思100g单光口网卡ib模式驱动"
tags: ubuntu
---



1, 修改ip地址
/etc/netplan/50-cloud-init.yaml  改为：
network:
  version: 2
  ethernets:
    eno0:
      dhcp4: true
    enp129s0f1:
      addresses: [172.16.0.66/23]
      routes:
       - to: default
         via: 172.16.0.254
         metric: 100
            nameservers:
         addresses: [223.5.5.5]

运行指令：netplan apply 

2，打软件补丁
apt update &&  apt upgrade && apt autoremove
apt -y install build-essential

3，安装ib网卡驱动:
wget https://content.mellanox.com/ofed/MLNX_OFED-24.10-2.1.8.0/MLNX_OFED_LINUX-24.10-2.1.8.0-ubuntu24.04-x86_64.tgz

tar zvxf  MLNX_OFED_LINUX-24.10-2.1.8.0-ubuntu24.04-x86_64.tgz

cd  MLNX_OFED_LINUX-24.10-2.1.8.0-ubuntu24.04-x86_64
./mlnxofedinstall  --force
/etc/init.d/openibd restart


4， 配置IP：
sudo ip addr add 192.168.1.6/24 dev ibp63s0
sudo ip link set ibp63s0 up
