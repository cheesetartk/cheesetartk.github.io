---
title: "yum的卸载与重新安装"
tags: linux
---



操作系统版本：centos7

    [root@linux-node3 ~]# uname -r
    10.0-514.el7.x86_64


一、将现有的yum源卸载

    [root@linux-node3 ~]# rpm -qa yum
    yum-3.4.3-150.el7.centos.noarch
    [root@linux-node3 ~]# rpm -qa | grep yum | xargs rpm -e --nodeps  #这一步一定要执行，而且要将所有的组件卸载掉，如果卸载不干净，后面安装会有问题
    [root@linux-node3 ~]# rpm -qa yum
二、从centos官网上下载和yum有关的rpm包

1、下载rpm包

    http://mirror.centos.org/centos/6/os/x86_64/Packages/yum-3.2.29-81.el6.centos.noarch.rpm
    http://mirror.centos.org/centos/6/os/x86_64/Packages/yum-metadata-parser-1.1.2-16.el6.x86_64.rpm
    http://mirror.centos.org/centos/6/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.30-41.el6.noarch.rpm


备注：如果是centos6，应下载以下rpm包

    http://mirror.centos.org/centos/6/os/x86_64/Packages/yum-3.2.29-81.el6.centos.noarch.rpm
    http://mirror.centos.org/centos/6/os/x86_64/Packages/yum-metadata-parser-1.1.2-16.el6.x86_64.rpm
    http://mirror.centos.org/centos/6/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.30-41.el6.noarch.rpm


2、安装

    [root@linux-node3 ~]# ls 
    yum-3.4.3-167.el7.centos.noarch.rpm
    yum-metadata-parser-1.1.4-10.el7.x86_64.rpm
    yum-plugin-fastestmirror-1.1.31-53.el7.noarch.rpm
     
    [root@linux-node3 ~]# rpm -ivh yum-*     #安装
     
    [root@linux-node3 ~]# rpm -qa yum    #查看是否已经安装上
    yum-3.4.3-150.el7.centos.noarch.rpm

三、检测安装的yum是否有问题，执行命令进行测试



备注：
1、不同的操作系统版本，要从官网上下载不同的rpm包，官网地址"http://mirror.centos.org/centos/"，然后根据自己操作系统的版本选择即可。
2、如果出现安装好以后，yum还是不能用的情况，那肯是是原有的yum没有删除干净，再次执行以下命令，重新安装yum即可。

rpm -qa|grep yum|xargs rpm -e --nodeps


3、如果有需要导入证书的情况，请从官网上找到链接，导入即可

rpm --import http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-7


转载自:https://blog.csdn.net/zhou562334410/article/details/119417339